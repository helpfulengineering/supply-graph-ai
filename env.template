# Open Matching Engine Configuration Template
# Copy this file to .env and customize the values for your environment

# =============================================================================
# Environment Configuration
# =============================================================================
# Environment: "development" or "production"
# In production, encryption credentials and API keys are required
ENVIRONMENT=development

# =============================================================================
# API Configuration
# =============================================================================
DEBUG=false
API_HOST=0.0.0.0
# Standardized default port (matches CLI default)
API_PORT=8001

# CORS Configuration
# Use "*" to allow all origins, or specify comma-separated list of allowed origins
# In production, defaults to empty (no CORS) if not set
CORS_ORIGINS=*

# API Authentication
# Comma-separated list of API keys for authentication (backward compatibility)
# For production, use storage-based keys instead
# In production, a warning is logged if not set
API_KEYS=your-api-key-here,another-api-key

# Authentication Configuration
# Mode: "env" (environment variables only), "storage" (storage only), "hybrid" (both)
AUTH_MODE=hybrid
# Enable storage-based API key management
AUTH_ENABLE_STORAGE=true
# Cache TTL for validated keys in seconds (default: 300 = 5 minutes)
AUTH_CACHE_TTL=300
# Length of generated API keys in bytes (default: 32)
AUTH_KEY_LENGTH=32

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=INFO
LOG_FILE=logs/app.log

# =============================================================================
# Storage Configuration
# =============================================================================
# Storage provider: local, aws_s3, azure_blob, gcp_storage
STORAGE_PROVIDER=local
STORAGE_BUCKET_NAME=ome-storage
# Local storage path (only for local provider)
LOCAL_STORAGE_PATH=storage  # Used in code

# AWS S3 Configuration (if using aws_s3)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_DEFAULT_REGION=us-east-1  # Region for AWS services
AWS_S3_BUCKET=your-s3-bucket

# Azure Blob Storage Configuration (if using azure_blob)
# Note: Code uses AZURE_STORAGE_ACCOUNT and AZURE_STORAGE_KEY
AZURE_STORAGE_ACCOUNT=your-storage-account  # Used in code
AZURE_STORAGE_KEY=your-storage-key  # Used in code
AZURE_STORAGE_CONTAINER=your-container  # Used in code
# Legacy/alternative names (for backward compatibility)
AZURE_STORAGE_ACCOUNT_NAME=your-storage-account
AZURE_STORAGE_ACCOUNT_KEY=your-storage-key
AZURE_CONTAINER_NAME=your-container
# Azure Storage Service URL (for OKH/OKW libraries)
AZURE_STORAGE_SERVICE_NAME=
# OKH and OKW container names
AZURE_STORAGE_OKH_CONTAINER_NAME=okh
AZURE_STORAGE_OKW_CONTAINER_NAME=okw

# Google Cloud Storage Configuration (if using gcp_storage)
GCP_PROJECT_ID=your-project-id  # Used in code
GCP_STORAGE_BUCKET=your-gcs-bucket  # Used in code
GCP_CREDENTIALS_JSON=your-service-account-json  # Used in code
# Legacy/alternative names (for backward compatibility)
GOOGLE_CLOUD_PROJECT_ID=your-project-id
GOOGLE_CLOUD_STORAGE_BUCKET=your-gcs-bucket
# For authentication, use service account key file or default credentials

# =============================================================================
# LLM Configuration
# =============================================================================
# Enable/disable LLM integration
LLM_ENABLED=false

# LLM Provider: openai, anthropic, google, azure, local
LLM_DEFAULT_PROVIDER=anthropic  # Used in code
LLM_PROVIDER=anthropic  # Alternative name
LLM_DEFAULT_MODEL=claude-3-sonnet-20240229  # Used in code
LLM_MODEL=claude-3-sonnet-20240229  # Alternative name

# Quality level: hobby, professional, medical
LLM_QUALITY_LEVEL=professional

# Strict mode for validation
LLM_STRICT_MODE=false

# LLM Encryption Credentials (REQUIRED in production)
# These are used to encrypt LLM API keys stored in the system
# In production, these MUST be set to secure values (not defaults)
# In development, defaults are used with a warning
LLM_ENCRYPTION_SALT=
LLM_ENCRYPTION_PASSWORD=
# Alternative: Direct encryption key (if not using salt/password)
LLM_ENCRYPTION_KEY=  # Used in code

# Ollama Configuration (for local LLM provider)
OLLAMA_BASE_URL=http://localhost:11434

# OpenAI Configuration (if using openai)
OPENAI_API_KEY=your-openai-api-key
OPENAI_ORGANIZATION_ID=your-org-id  # Optional, used in code

# Anthropic Configuration (if using anthropic)
ANTHROPIC_API_KEY=your-anthropic-api-key

# Google AI Configuration (if using google)
GOOGLE_AI_API_KEY=your-google-ai-api-key

# Azure OpenAI Configuration (if using azure)
AZURE_OPENAI_API_KEY=your-azure-openai-api-key
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_VERSION=2024-02-15-preview

# =============================================================================
# Cache Configuration
# =============================================================================
# Enable/disable response caching
CACHE_ENABLED=true
# Maximum number of cache entries (LRU eviction)
CACHE_MAX_SIZE=1000
# How often to clean expired entries (seconds)
CACHE_CLEANUP_INTERVAL=60

# =============================================================================
# Rate Limiting Configuration
# =============================================================================
# Enable/disable rate limiting
RATE_LIMIT_ENABLED=true
# How often to clean old request timestamps (seconds)
RATE_LIMIT_CLEANUP_INTERVAL=60

# =============================================================================
# Domain Configuration
# =============================================================================
# Enable/disable specific domains
COOKING_DOMAIN_ENABLED=true
MANUFACTURING_DOMAIN_ENABLED=true

# =============================================================================
# CLI Configuration
# =============================================================================
# Default server URL for CLI commands
OME_SERVER_URL=http://localhost:8001

# =============================================================================
# Repository URLs (Optional, for documentation/examples)
# =============================================================================
# Repository URL for OKH library (optional)
OKH_LIBRARY_REPO_URL=
# Repository URL for OKF schema (optional)
OKF_SCHEMA_REPO_URL=

# =============================================================================
# Development/Testing Configuration
# =============================================================================
# Set to true for development mode
DEV_MODE=false

# Test data directory
TEST_DATA_DIR=test-data

# =============================================================================
# Container-specific Configuration
# =============================================================================
# These are typically set by the container runtime
ENV=production
CONTAINER_NAME=open-matching-engine
